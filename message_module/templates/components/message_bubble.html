<div
  class="flex {% if msg.sender == request.user %}justify-end{% else %}justify-start{% endif %}"
>
  <div class="flex gap-2 max-w-xs lg:max-w-md">
    {% if msg.sender != request.user %}
    <img
      src="{{ msg.sender.profile.avatar.url|default:'/static/img/default-avatar.png' }}"
      class="w-8 h-8 rounded-full object-cover flex-shrink-0"
      alt="{{ msg.sender.username }}"
    />
    {% endif %}
    <div
      class="flex flex-col {% if msg.sender == request.user %}items-end{% endif %}"
    >
      <p
        class="px-4 py-2 rounded-2xl break-words {% if msg.sender == request.user %}bg-green-500 text-white rounded-br-none{% else %}bg-base-200 text-base-content rounded-bl-none{% endif %}"
      >
        {{ msg.body }}
      </p>
      <span class="text-xs text-base-content/50 mt-1 px-2">
        {{ msg.timestamp|date:"M d, Y H:i" }}
      </span>
    </div>
  </div>
</div>